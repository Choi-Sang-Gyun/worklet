<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/regiest.css">
</head>
<body>
    <div class="form-container">
      <div><h2 class="title">WORKLET</h2></div>
        <h2>회원가입</h2>
        <form action="##" method="post">
        <div class="form">
          <div class="form-row">
            <label class="username">아이디</label>
            <input type="text" id="id" placeholder="6~20자 영문자 또는 숫자를 입력해주세요 ">
            
          </div>
      
          <div class="form-row">
            <label for="password">비밀번호</label>
            <input type="password" id="password" placeholder="8~16글자의 영문자,숫자,특수문자 포함 입력해주세요">
          </div>
      
          <div class="form-row">
            <label for="passwordCheck">비밀번호 확인</label>
            <input type="password" id="passwordCheck" placeholder="비밀번호를 다시 입력해주세요">
          </div>
      
          <div class="form-row">
            <label>이름</label>
            <input type="text" id="name">
          </div>
      
          <div class="form-row">
            <label>성별</label>
            <div class="radio-group">
              <label><input type="radio" name="gender"> 남성</label>
              <label><input type="radio" name="gender"> 여성</label>
            </div>
          </div>
      
          <div class="form-row">
            <label>생년월일</label>
            <div class="birth-row">
              <input type="text" class="small" placeholder="년">
              <input type="text" class="small" placeholder="월">
              <input type="text" class="small" placeholder="일">
            </div>
          </div>
      
          <div class="form-row">
            <label>연락처</label>
            <input type="text" placeholder="000-0000-0000">
          </div>
      
          <div class="form-row">
            <label>이메일</label>
            <input type="email" placeholder="example@email.com">
          </div>
      
          <div class="form-row">
            <label>희망고용형태</label>
            <div class="option-group">
              <label><input type="checkbox"> 정규직</label>
              <label><input type="checkbox"> 계약직</label>
              <label><input type="checkbox"> 인턴</label>
              <label><input type="checkbox"> 아르바이트</label>
            </div>
          </div>
          
          <div class="form-row">
            <label>희망직종경력</label>
            <div class="option-group">
              <label><input type="radio" name="career"> 없음</label>
              <label><input type="radio" name="career"> 1년 이하</label>
              <label><input type="radio" name="career"> 1년~2년</label>
              <label><input type="radio" name="career"> 2년 이상</label>
            </div>
          </div>
          
      
          <div class="form-group terms-box">
            <label class="terms-title">가입 약관</label>
            <div class="terms-inner-box">
              <div class="terms-item">
                <label>
                  <input type="checkbox" class="agree">
                  <span>개인회원 약관 동의(필수)</span>
                </label>
                <a href="#">자세히보기</a>
              </div>
              <div class="terms-item">
                <label>
                  <input type="checkbox" class="agree">
                  <span>개인정보 수집 및 이용 동의(필수)</span>
                </label>
                <a href="#">자세히보기</a>
              </div>
              <div class="terms-item">
                <label>
                  <input type="checkbox" class="agree">
                  <span>마케팅 정보 수신 동의 - 이메일(선택)</span>
                </label>
                <a href="#">자세히보기</a>
              </div>
              <div class="terms-item">
                <label>
                  <input type="checkbox" class="agree">
                  <span>마케팅 정보 수신 동의 - MMS(선택)</span>
                </label>
                <a href="#">자세히보기</a>
              </div>
            </div>
          
            <div class="terms-all">
              <label>
                <input type="checkbox" id="checkAll">
                <strong>전체 동의</strong>
              </label>
              <p class="terms-desc">
                위의 가입 약관, 마케팅 정보 수신 동의(이메일, SMS/MMS) 등에 동의를 포함합니다.
              </p>
            </div>
          </div>
          
          <button type="submit" class="submit-btn">회원 가입하기</button>
        </div>
      </form>
      </div>

        <script>
          var submitBtn = document.querySelector(".submit-btn");
          var id = document.getElementById("id");
          var pw = document.getElementById("password");
          var pwCheck = document.getElementById("passwordCheck");
          var userName = document.getElementById("name");
          var birth = document.querySelectorAll(".birth-row input");
          var phoneInput = document.querySelector('input[placeholder="000-0000-0000"]');
          var emailInput = document.querySelector('input[type="email"]');
          var employmentTypes = document.querySelectorAll('.option-group input[type="checkbox"]');
          var careerOptions = document.querySelectorAll('input[name="career"]');
        
          submitBtn.addEventListener('click', function(e) {
            e.preventDefault();
        
            var redId = /^[a-z]+[a-z0-9]{5,19}$/g;
            var redPw = /^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\(\\)\-_=+]).{8,16}$/;
            var phoneRegex = /^\d{3}-\d{3,4}-\d{4}$/;
            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
            // 아이디 & 비밀번호
            if(id.value === '') return alert('아이디를 입력해주세요');
            if(!redId.test(id.value)) return alert('아이디 형식이 올바르지 않습니다');
            if(pw.value === '') return alert('비밀번호를 입력해주세요');
            if(!redPw.test(pw.value)) return alert('비밀번호 형식이 맞지 않습니다');
            if(pw.value !== pwCheck.value) return alert('비밀번호가 일치하지 않습니다');
            if(userName.value === '') return alert('이름을 입력해주세요');
        
            // 성별
            var genderChecked = document.querySelector('input[name="gender"]:checked');
            if(!genderChecked) return alert('성별을 선택해주세요');
        
            // 생년월일 검사 (정확히)
            var year = birth[0].value.trim();
            var month = birth[1].value.trim();
            var day = birth[2].value.trim();
            var currentYear = new Date().getFullYear();
        
            if (!/^\d{4}$/.test(year) || year < 1900 || year > currentYear) {
              return alert('올바른 출생 년도를 입력해주세요 (예: 1995)');
            }
            if (!/^\d{1,2}$/.test(month) || month < 1 || month > 12) {
              return alert('올바른 월을 입력해주세요 (1~12)');
            }
            if (!/^\d{1,2}$/.test(day) || day < 1 || day > 31) {
              return alert('올바른 일을 입력해주세요 (1~31)');
            }
        
            var daysInMonth = new Date(year, month, 0).getDate(); // 해당 월의 마지막 날
            if (day > daysInMonth) {
              return alert(`${month}월은 ${daysInMonth}일까지 존재합니다`);
            }
        
            // 연락처
            if(!phoneRegex.test(phoneInput.value)) return alert('연락처 형식이 올바르지 않습니다 (예: 010-1234-5678)');
        
            // 이메일
            if(!emailRegex.test(emailInput.value)) return alert('올바른 이메일 형식을 입력해주세요');
        
            // 희망고용형태
            var isEmploymentChecked = Array.from(employmentTypes).some(cb => cb.checked);
            if(!isEmploymentChecked) return alert('희망 고용형태를 선택해주세요');
        
            // 희망직종경력
            var isCareerChecked = Array.from(careerOptions).some(r => r.checked);
            if(!isCareerChecked) return alert('희망 직종 경력을 선택해주세요');
        
            alert('모든 유효성 검사를 통과했습니다! 🎉');
            // document.querySelector("form").submit(); // 실제 전송 시 사용
          });
        </script>
        

      <!-- 
       // 생년월일
  var birthInputs = document.querySelectorAll(".birth-row input");

  // 연락처 & 이메일
  var phoneInput = document.querySelector('input[placeholder="000-0000-0000"]');
  var emailInput = document.querySelector('input[type="email"]');

  // 고용형태 (checkbox)
  var employmentTypes = document.querySelectorAll('.option-group input[type="checkbox"]');

  // 직종 경력 (radio)
  var careerOptions = document.querySelectorAll('input[name="career"]');

  submitBtn.addEventListener('click', function(e) {
    e.preventDefault();

    var redId = /^[a-z]+[a-z0-9]{5,19}$/g;
    var redPw = /^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\(\\)\-_=+]).{8,16}$/;
    var phoneRegex = /^\d{3}-\d{3,4}-\d{4}$/;
    var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    // 아이디 & 비밀번호
    if(id.value === '') return alert('아이디를 입력해주세요');
    if(!redId.test(id.value)) return alert('아이디 형식이 올바르지 않습니다');
    if(pw.value === '') return alert('비밀번호를 입력해주세요');
    if(!redPw.test(pw.value)) return alert('비밀번호 형식이 맞지 않습니다');
    if(pw.value !== pwCheck.value) return alert('비밀번호가 일치하지 않습니다');
    if(userName.value === '') return alert('이름을 입력해주세요');

    // 성별
    var genderChecked = document.querySelector('input[name="gender"]:checked');
    if(!genderChecked) return alert('성별을 선택해주세요');

    // 생년월일
    var birthValid = true;
    birthInputs.forEach(input => {
      if(input.value.trim() === '' || isNaN(input.value)) {
        birthValid = false;
      }
    });
    if(!birthValid) return alert('정확한 생년월일을 숫자로 입력해주세요');

    // 연락처
    if(!phoneRegex.test(phoneInput.value)) return alert('연락처 형식이 올바르지 않습니다 (예: 010-1234-5678)');

    // 이메일
    if(!emailRegex.test(emailInput.value)) return alert('올바른 이메일 형식을 입력해주세요');

    // 희망고용형태
    var isEmploymentChecked = Array.from(employmentTypes).some(cb => cb.checked);
    if(!isEmploymentChecked) return alert('희망 고용형태를 선택해주세요');

    // 희망직종경력
    var isCareerChecked = Array.from(careerOptions).some(r => r.checked);
    if(!isCareerChecked) return alert('희망 직종 경력을 선택해주세요');

      -->





      <script>
        var checkAll = document.getElementById("checkAll");
        var agree = document.querySelectorAll(".agree");

        checkAll.addEventListener('change', function () {
          agree.forEach(checkbox => {
            checkbox.checked = checkAll.checked;
          });
        })

        agree.forEach(checkbox => {
          checkbox.addEventListener('change', function () {
          checkAll.checked = Array.from(agree).every(cb => cb.checked);
          });  
         });
      </script>
      
</body>
</html>